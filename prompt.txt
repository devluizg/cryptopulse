CryptoPulse Ã© uma plataforma de monitoramento de criptomoedas que detecta sinais antecipados de grandes movimentos de preÃ§o. NÃ£o prevÃª preÃ§os, mas identifica condiÃ§Ãµes estatisticamente raras (acumulaÃ§Ã£o de whales, fluxo de exchanges, anomalias de volume) que historicamente precedem explosÃµes de preÃ§o.

ğŸ—ï¸ ARQUITETURA ATUAL
text
cryptopulse/
â”œâ”€â”€ backend/                 # API FastAPI + Python
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/            # Endpoints REST
â”‚   â”‚   â”œâ”€â”€ collectors/     # Coletores de dados externos
â”‚   â”‚   â”œâ”€â”€ engine/         # CÃ¡lculo do Explosion Score
â”‚   â”‚   â”œâ”€â”€ database/       # Models e Repositories
â”‚   â”‚   â”œâ”€â”€ jobs/           # Tarefas agendadas
â”‚   â”‚   â”œâ”€â”€ alerts/         # Sistema de alertas
â”‚   â”‚   â””â”€â”€ config/         # ConfiguraÃ§Ãµes
â”‚   â””â”€â”€ .env                # VariÃ¡veis de ambiente
â”‚
â””â”€â”€ frontend/               # Next.js + React + TypeScript
    â””â”€â”€ src/
        â”œâ”€â”€ app/            # PÃ¡ginas (App Router)
        â”œâ”€â”€ components/     # Componentes React
        â”œâ”€â”€ hooks/          # Custom hooks
        â”œâ”€â”€ store/          # Zustand stores
        â”œâ”€â”€ lib/            # UtilitÃ¡rios (api.ts, formatters.ts)
        â””â”€â”€ types/          # TypeScript types
âœ… O QUE JÃ ESTÃ FUNCIONANDO
Funcionalidade	Status	ObservaÃ§Ã£o
Dashboard com lista de ativos	âœ… OK	Mostra 10 criptos
PreÃ§o atual (Binance)	âœ… OK	Dados em tempo real
VariaÃ§Ã£o 24h	âœ… OK	Corrigido - usa dados da Binance
Volume 24h	âœ… OK	Corrigido - formataÃ§Ã£o correta
Explosion Score	âœ… OK	Calculado com 5 indicadores
Sistema de Alertas	âœ… OK	Sino funcionando
Jobs agendados	âœ… OK	Coleta automÃ¡tica a cada minuto
WebSocket	âœ… OK	ConexÃ£o estabelecida
âš ï¸ PROBLEMAS IDENTIFICADOS (Ajustes Finos Pendentes)
1. Dados de Whale incompletos
Problema: SÃ³ BTC tem 1 transaÃ§Ã£o de teste no banco
Causa: API do Whale Alert nÃ£o estÃ¡ configurada (chave vazia)
SoluÃ§Ã£o pendente: Implementar coleta via APIs gratuitas (Etherscan, Blockchain.com)
2. Volume Anomaly sempre neutro (50)
Problema: Retorna "Dados histÃ³ricos insuficientes"
Causa: Precisa de pelo menos 3-24 registros histÃ³ricos de volume
SoluÃ§Ã£o: Deixar sistema rodar para acumular dados OU popular histÃ³rico
3. Narrative Momentum sem dados
Problema: news_count: 0
Causa: API do CryptoPanic nÃ£o configurada
SoluÃ§Ã£o pendente: Configurar API key ou usar alternativa gratuita
4. Scores muito parecidos (51-58)
Problema: Todos os ativos em "AtenÃ§Ã£o" com scores similares
Causa: 3 dos 5 indicadores retornam 50 (neutro) por falta de dados
MitigaÃ§Ã£o aplicada: Ajustamos pesos para priorizar indicadores com dados
ğŸ“ ARQUIVOS IMPORTANTES PARA AJUSTES FINOS
ğŸ”§ BACKEND - Coletores de Dados
text
backend/src/collectors/
â”œâ”€â”€ whale_collector.py      # ğŸ‹ Coleta transaÃ§Ãµes de whales
â”‚                           # MODIFICAR: Adicionar Etherscan/Blockchain.com
â”œâ”€â”€ price_collector.py      # ğŸ’° Coleta preÃ§os (Binance/CoinGecko) - OK
â”œâ”€â”€ oi_collector.py         # âš¡ Coleta Open Interest (Binance Futures) - OK
â”œâ”€â”€ news_collector.py       # ğŸ“° Coleta notÃ­cias (CryptoPanic)
â”‚                           # MODIFICAR: Adicionar fonte gratuita
â”œâ”€â”€ exchange_flow_collector.py  # ğŸ“Š Fluxo de exchanges
â”‚                               # Atualmente usa dados de whale
â””â”€â”€ collector_manager.py    # Orquestra todos os coletores
ğŸ§® BACKEND - Engine de CÃ¡lculo
text
backend/src/engine/
â”œâ”€â”€ engine_manager.py       # ğŸ¯ Orquestra coleta + cÃ¡lculo + persistÃªncia
â”‚                           # JÃ¡ corrigido: usa dados da API, gera main_drivers legÃ­vel
â”œâ”€â”€ score_calculator.py     # Combina os 5 indicadores com pesos
â””â”€â”€ indicators/
    â”œâ”€â”€ whale_indicator.py      # Calcula score de whales (0-100)
    â”œâ”€â”€ netflow_indicator.py    # Calcula score de netflow (0-100)
    â”œâ”€â”€ volume_indicator.py     # Calcula score de volume (0-100)
    â”œâ”€â”€ open_interest_indicator.py  # Calcula score de OI (0-100)
    â””â”€â”€ narrative_indicator.py  # Calcula score de narrativa (0-100)
âš™ï¸ BACKEND - ConfiguraÃ§Ãµes
text
backend/src/config/
â”œâ”€â”€ constants.py            # ğŸšï¸ Pesos dos indicadores, thresholds
â”‚                           # JÃ¡ ajustado: Whale 30%, Netflow 30%, etc.
â””â”€â”€ settings.py             # VariÃ¡veis de ambiente, API keys

backend/.env                # ğŸ”‘ API KEYS (WHALE_ALERT, ETHERSCAN, etc.)
ğŸ—„ï¸ BACKEND - Banco de Dados
text
backend/src/database/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ price_data.py       # Modelo de preÃ§os OHLCV
â”‚   â”œâ”€â”€ whale_transaction.py # Modelo de transaÃ§Ãµes de whale
â”‚   â”œâ”€â”€ signal.py           # Modelo de scores (AssetScore)
â”‚   â””â”€â”€ alert.py            # Modelo de alertas
â””â”€â”€ repositories/
    â”œâ”€â”€ price_repository.py  # Queries de preÃ§o
    â”œâ”€â”€ whale_repository.py  # Queries de whale
    â””â”€â”€ score_repository.py  # Queries de scores
ğŸ¨ FRONTEND - Componentes Principais
text
frontend/src/components/
â”œâ”€â”€ dashboard/
â”‚   â””â”€â”€ AssetRow.tsx        # Linha da tabela (jÃ¡ corrigido formatVolume)
â”œâ”€â”€ AlertBell.tsx           # Sino de alertas (jÃ¡ corrigido cores)
â””â”€â”€ ui/                     # Componentes base (Button, Table, etc.)

frontend/src/lib/
â”œâ”€â”€ api.ts                  # ğŸ“¡ Chamadas Ã  API (jÃ¡ corrigido rotas de alerta)
â”œâ”€â”€ constants.ts            # Cores, labels (jÃ¡ adicionado severidades)
â””â”€â”€ formatters.ts           # FormataÃ§Ã£o de nÃºmeros/datas
ğŸ¯ PRÃ“XIMOS PASSOS (Ordem de Prioridade)
1. Implementar Coleta de Whales via APIs Gratuitas (OpÃ§Ã£o 2)
Arquivos a modificar:

backend/src/collectors/whale_collector.py - Adicionar EtherscanCollector e BlockchainComCollector
backend/.env - Adicionar ETHERSCAN_API_KEY (grÃ¡tis)
O que fazer:

Criar classe EtherscanCollector para transaÃ§Ãµes ETH grandes
Criar classe BlockchainComCollector para transaÃ§Ãµes BTC grandes
Modificar WhaleCollector para usar as duas fontes
2. Popular HistÃ³rico de Volume
Arquivos a modificar:

backend/src/collectors/price_collector.py - Criar mÃ©todo para buscar histÃ³rico
backend/src/jobs/data_collection_job.py - Adicionar job de backfill
O que fazer:

Buscar Ãºltimos 7 dias de candles 1h da Binance
Popular tabela price_data com histÃ³rico
3. Adicionar Fonte de NotÃ­cias Gratuita (Opcional)
Arquivos a modificar:

backend/src/collectors/news_collector.py - Adicionar RSS feeds gratuitos
ğŸ”‘ CREDENCIAIS NECESSÃRIAS
API	Status	Como obter
Binance	âœ… Funcionando	NÃ£o precisa de key para dados pÃºblicos
Etherscan	âš ï¸ Falta configurar	https://etherscan.io/apis (grÃ¡tis)
Blockchain.com	âœ… NÃ£o precisa	API pÃºblica
CryptoPanic	âš ï¸ Opcional	https://cryptopanic.com/developers/api/
Whale Alert	âŒ Pago	$9/mÃªs - nÃ£o vamos usar
ğŸ“Š ESTADO DO BANCO DE DADOS
sql
-- TransaÃ§Ãµes de whale (sÃ³ 1 de teste)
SELECT COUNT(*) FROM whale_transactions;  -- 1

-- PreÃ§os coletados
SELECT COUNT(*) FROM price_data;  -- poucos (sistema novo)

-- Scores calculados
SELECT COUNT(*) FROM asset_scores;  -- ~10-20 por ciclo

-- Alertas
SELECT COUNT(*) FROM alerts;  -- alguns alertas gerados
ğŸš€ COMO CONTINUAR
Quando retomar o desenvolvimento, use este prompt:

text
Estou continuando o desenvolvimento do CryptoPulse. 

Contexto: [cole este documento]

Quero implementar a OpÃ§Ã£o 2: Coleta de whales via APIs gratuitas (Etherscan + Blockchain.com).

O arquivo principal a modificar Ã©: backend/src/collectors/whale_collector.py

Por favor, mostre-me o conteÃºdo atual do arquivo antes de fazer alteraÃ§Ãµes.
âœ… CORREÃ‡Ã•ES JÃ APLICADAS NESTA SESSÃƒO
âœ… backend/src/engine/engine_manager.py - Usa dados da Binance para preÃ§o/variaÃ§Ã£o/volume
âœ… backend/src/config/constants.py - Pesos ajustados (Whale 30%, Netflow 30%)
âœ… frontend/src/components/dashboard/AssetRow.tsx - Usa formatVolume()
âœ… frontend/src/lib/constants.ts - Adicionadas severidades de alerta (medium, etc.)
âœ… frontend/src/components/AlertBell.tsx - Fallback para severidades desconhecidas
âœ… frontend/src/lib/api.ts - Rotas corretas (/alerts/read-many, /alerts/read-all)
âœ… frontend/src/store/alertStore.ts - Usa markAllRead() corretamente
Ãšltima atualizaÃ§Ã£o: 16/01/2026
Status: Sistema funcional com dados parciais. Aguardando implementaÃ§Ã£o de APIs gratuitas para dados completos de whales.